# Project Structure - Axiom.ai

## Root Directory Organization
```
/
├── app/              # Next.js app router pages and layouts
├── components/       # Reusable UI components
├── lib/             # Utility functions and shared logic
├── actions/         # Server actions for form handling
├── types/           # TypeScript type definitions
├── prisma/          # Database schema and migrations
├── public/          # Static assets
└── .kiro/           # Kiro AI development context
```

## App Directory Structure (Next.js App Router)
```
app/
├── (auth)/          # Authentication-related pages
├── (dashboard)/     # Dashboard and main app pages
├── api/             # API routes and endpoints
├── globals.css      # Global styles and Tailwind imports
├── layout.tsx       # Root layout component
└── page.tsx         # Homepage
```

## Component Organization
```
components/
├── ui/              # Basic UI components (shadcn/ui)
├── workflow/        # Workflow builder specific components
├── dashboard/       # Dashboard-specific components
├── forms/           # Form components
└── providers/       # React context providers
```

## Library Structure
```
lib/
├── auth/            # Authentication utilities
├── database/        # Database connection and utilities
├── integrations/    # External API integrations
├── validation/      # Zod schemas for validation
└── utils/           # General utility functions
```

## Naming Conventions

### Files and Directories
- **kebab-case** for file and directory names (`workflow-builder.tsx`)
- **PascalCase** for React components (`WorkflowBuilder.tsx`)
- **camelCase** for utility functions and hooks (`useWorkflowState.ts`)
- **SCREAMING_SNAKE_CASE** for constants (`API_ENDPOINTS.ts`)

### Components
- Component files should match their default export name
- Use descriptive names that indicate component purpose
- Prefix with feature area when applicable (`WorkflowNode`, `DashboardCard`)

### API Routes
- RESTful naming for API endpoints (`/api/workflows`, `/api/workflows/[id]`)
- Use HTTP verbs appropriately (GET, POST, PUT, DELETE)
- Group related endpoints in subdirectories

## Import Organization
```typescript
// 1. React and Next.js imports
import React from 'react'
import { NextRequest } from 'next/server'

// 2. Third-party libraries
import { z } from 'zod'
import { clsx } from 'clsx'

// 3. Internal utilities and types
import { cn } from '@/lib/utils'
import type { Workflow } from '@/types/workflow'

// 4. Internal components
import { Button } from '@/components/ui/button'
import { WorkflowNode } from '@/components/workflow/node'

// 5. Relative imports
import './styles.css'
```

## Code Organization Patterns

### Feature-based Structure
- Group related components, hooks, and utilities by feature
- Each feature should be self-contained when possible
- Shared components live in the main components directory

### Barrel Exports
```typescript
// components/workflow/index.ts
export { WorkflowBuilder } from './workflow-builder'
export { WorkflowNode } from './workflow-node'
export { WorkflowEdge } from './workflow-edge'
```

### Type Definitions
- Keep types close to their usage when feature-specific
- Global types in `/types` directory
- Database types generated by Prisma in separate file

### Configuration Files
- Environment variables validated with Zod schemas
- Configuration objects exported from dedicated files
- No inline magic numbers or strings

## Development Workflow
- Feature branches for all new development
- Pull request reviews required before merging
- Automatic linting and type checking in CI
- Integration tests run on every pull request
